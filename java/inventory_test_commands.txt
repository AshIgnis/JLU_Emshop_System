# 库存管理完整测试命令集
# 使用方法：启动EmshopNettyServer，然后通过客户端发送这些命令

# 1. 基础库存检查测试
CHECK_STOCK 1          # 检查商品ID=1的库存
CHECK_STOCK 2          # 检查商品ID=2的库存  
CHECK_STOCK 3          # 检查商品ID=3的库存
CHECK_STOCK 999        # 检查不存在的商品ID（测试错误处理）

# 2. 库存更新测试 - 增加库存
UPDATE_STOCK 1 10 add     # 给商品1增加10个库存
UPDATE_STOCK 2 5 add      # 给商品2增加5个库存
UPDATE_STOCK 3 20 add     # 给商品3增加20个库存

# 3. 验证更新后的库存
CHECK_STOCK 1          # 验证商品1库存是否增加了10
CHECK_STOCK 2          # 验证商品2库存是否增加了5
CHECK_STOCK 3          # 验证商品3库存是否增加了20

# 4. 库存更新测试 - 减少库存  
UPDATE_STOCK 1 3 subtract   # 从商品1减少3个库存
UPDATE_STOCK 2 2 subtract   # 从商品2减少2个库存
UPDATE_STOCK 3 15 subtract  # 从商品3减少15个库存

# 5. 验证减少后的库存
CHECK_STOCK 1          # 验证商品1库存是否减少了3
CHECK_STOCK 2          # 验证商品2库存是否减少了2  
CHECK_STOCK 3          # 验证商品3库存是否减少了15

# 6. 边界测试 - 减少过多库存
UPDATE_STOCK 1 1000 subtract  # 尝试减少超过现有库存的数量（测试错误处理）

# 7. 低库存产品查询测试
GET_LOW_STOCK_PRODUCTS 5      # 查找库存少于5的所有产品
GET_LOW_STOCK_PRODUCTS 10     # 查找库存少于10的所有产品
GET_LOW_STOCK_PRODUCTS 20     # 查找库存少于20的所有产品
GET_LOW_STOCK_PRODUCTS 0      # 边界测试：查找库存为0的产品

# 8. 无效操作测试
UPDATE_STOCK 999 10 add       # 对不存在的商品更新库存
UPDATE_STOCK 1 -5 add         # 使用负数量
UPDATE_STOCK 1 10 invalid     # 使用无效操作类型

# 9. 综合测试场景 - 模拟购买流程
CHECK_STOCK 1                 # 检查商品1库存
UPDATE_STOCK 1 2 subtract     # 模拟购买2个商品1
CHECK_STOCK 1                 # 再次检查库存确认减少

# 10. 批量低库存检查
GET_LOW_STOCK_PRODUCTS 1      # 查找库存极低的产品（库存<1）
GET_LOW_STOCK_PRODUCTS 50     # 查找库存较低的产品（库存<50）

# 测试结束后的验证命令
GET_PRODUCTS                  # 获取所有产品列表以验证整体状态
